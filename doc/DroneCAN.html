<style>
    body {
        text-align:justify;
        max-width: 25cm;
        margin-left: auto;
        margin-right: auto;
        font-family: Georgia;
        counter-reset: h1counter h2counter  h3counter toc1counter toc2counter toc3counter;
     }

    table {
       border: 1px solid #e0e0e0;
       border-collapse: collapse;
       margin-bottom: 25px;
    }

    th, td {
        border: 1px solid #e0e0e0;
        font-family: Courier, monospace;
        font-size: 90%;
        padding: 2px;
    }

    /*
     * Alternate colors for the table, including the heading row
     */
    th {
    background-color: #e0e0e0   
    }
    tr:nth-child(even){background-color: #e0e0e0}

    h1, h2, h3, h4, h5 { font-family: Arial; }
    h1 { font-size:120%; margin-bottom: 25px; }
    h2 { font-size:110%; margin-bottom: 15px; }
    h3 { font-size:100%; margin-bottom: 10px;}
    h4, li { font-size:100%; }

    caption{ font-family:Arial; font-size:85%;}

    code, pre, .codelike {
        font-family: Courier, monospace;
        font-size: 100%;
        color: darkblue;
    }

    /*
     * Counters for the main headings
     */

    h1:before {
        counter-increment: h1counter;
        content: counter(h1counter) "\00a0 ";
    }
    h1 {
        counter-reset: h2counter;
    }
    
    h2:before {
        counter-increment: h2counter;
        content: counter(h1counter) "." counter(h2counter) "\00a0 ";
    }
    h2 {
        counter-reset: h3counter;
    }
    
    h3:before {
      counter-increment: h3counter;
      content: counter(h1counter) "." counter(h2counter) "." counter(h3counter) "\00a0 ";
    }

    /*
     * The document title, centered
     */
    doctitle {font-family: Arial; font-size:120%; font-weight: bold; margin-bottom:25px; text-align:center; display:block;}
    titlepagetext {text-align:center; display:block;}

    /*
     * The table of contents formatting
     */
    toctitle {font-family: Arial; font-size:120%; font-weight: bold; margin-bottom:25px; display:block;}
    toc1, toc2, toc3 {font-family: Arial; font-size:100%; margin-bottom:2px; display:block;}
    toc1 {text-indent: 0px;}
    toc2 {text-indent: 15px;}
    toc3 {text-indent: 30px;}
    
    toc1:before {
        content: counter(toc1counter) "\00a0 ";
        counter-increment: toc1counter;
    }
    toc1 {
        counter-reset: toc2counter;
    }
    
    toc2:before {
        content: counter(toc1counter) "." counter(toc2counter) "\00a0 ";
        counter-increment: toc2counter;
    }
    toc2 {
        counter-reset: toc3counter;
    }

    toc3:before {
      content: counter(toc1counter) "." counter(toc2counter) "." counter(toc3counter) "\00a0 ";
      counter-increment: toc3counter;
    }

    /* How it looks on a screen, notice the fancy hr blocks and lack of page breaks */
    @media screen {
      body {
        background-color: #f0f0f0;
      }
      .page-break { display: none; }
      hr { 
        height: 25px; 
        border-style: solid; 
        border-color: gray; 
        border-width: 1px 0 0 0; 
        border-radius: 10px; 
      } 
      hr:before { 
        display: block; 
        content: ""; 
        height: 25px; 
        margin-top: -26px; 
        border-style: solid; 
        border-color: gray; 
        border-width: 0 0 1px 0; 
        border-radius: 10px; 
      }
    }

    /* How it looks when printed, hr turned off, in favor of page breaks*/
    @media print {
      hr {display: none;}
      body {background-color: white;}
      .page-break{page-break-before: always;}
    }
</style>

<h1 id="dronecanprotocol">DroneCAN Protocol</h1>

<p>Protocol version is 1.0.</p>

<p>Protocol API is 1.</p>

<h2 id="dronecan_priority_levelsenumeration">DroneCAN_Priority_Levels enumeration</h2>

<table>
<caption id="anamedronecan_priority_levelsadronecan_priority_levelsenumeration"><a name="DroneCAN_Priority_Levels"></a>DroneCAN_Priority_Levels enumeration</caption>
<colgroup>
<col/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Name</th>
	<th style="text-align:center;">Value</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td><code>DRONECAN_PRIORITY_CRITICAL</code></td>
	<td style="text-align:center;">0</td>
	<td>Critical priority message</td>
</tr>
<tr>
	<td><code>DRONECAN_PRIORITY_ELEVATED</code></td>
	<td style="text-align:center;">1</td>
	<td>Elevated priority message</td>
</tr>
<tr>
	<td><code>DRONECAN_PRIORITY_NORMAL</code></td>
	<td style="text-align:center;">2</td>
	<td>Normal priority message</td>
</tr>
<tr>
	<td><code>DRONECAN_PRIORITY_LOW</code></td>
	<td style="text-align:center;">3</td>
	<td>Low priority message</td>
</tr>
</tbody>
</table>

<h2 id="dronecan_vendorsenumeration">DroneCAN_Vendors enumeration</h2>

<table>
<caption id="anamedronecan_vendorsadronecan_vendorsenumeration"><a name="DroneCAN_Vendors"></a>DroneCAN_Vendors enumeration</caption>
<colgroup>
<col/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Name</th>
	<th style="text-align:center;">Value</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td><code>DRONECAN_VENDOR_CURRAWONG</code></td>
	<td style="text-align:center;">52942</td>
	<td>Currawong Engineering Pty Ltd</td>
</tr>
</tbody>
</table>

<h2 id="dronecan_system_packetsenumeration">DroneCAN_System_Packets enumeration</h2>

<table>
<caption id="anamedronecan_system_packetsadronecan_system_packetsenumeration"><a name="DroneCAN_System_Packets"></a>DroneCAN_System_Packets enumeration</caption>
<colgroup>
<col/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Name</th>
	<th style="text-align:center;">Value</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td><a href="#PKT_DC_SYS_STATUS"><code>PKT_DC_SYS_STATUS</code></a></td>
	<td style="text-align:center;">61440</td>
	<td>Device status information</td>
</tr>
<tr>
	<td><a href="#PKT_DC_SYS_UID"><code>PKT_DC_SYS_UID</code></a></td>
	<td style="text-align:center;">61696</td>
	<td>Unique Identifer for DroneCAN node</td>
</tr>
<tr>
	<td><a href="#PKT_DC_SYS_FW_VERSION"><code>PKT_DC_SYS_FW_VERSION</code></a></td>
	<td style="text-align:center;">61712</td>
	<td>Firmware version information</td>
</tr>
<tr>
	<td><a href="#PKT_DC_SYS_FW_DATE"><code>PKT_DC_SYS_FW_DATE</code></a></td>
	<td style="text-align:center;">61713</td>
	<td>Firmware date information</td>
</tr>
<tr>
	<td><a href="#PKT_DC_SYS_FW_SETTINGS"><code>PKT_DC_SYS_FW_SETTINGS</code></a></td>
	<td style="text-align:center;">61714</td>
	<td>User-configurable settings information</td>
</tr>
<tr>
	<td><a href="#PKT_DC_SYS_HW_INFO"><code>PKT_DC_SYS_HW_INFO</code></a></td>
	<td style="text-align:center;">61717</td>
	<td>Hardware information</td>
</tr>
</tbody>
</table>

<h2 id="anamepkt_dc_sys_statusadevicestatuspacket"><a name="PKT_DC_SYS_STATUS"></a>DeviceStatus packet</h2>

<p>Device status information</p>

<ul>
<li>packet identifier: <code>PKT_DC_SYS_STATUS</code> : 61440</li>
<li>data length: 0</li>
</ul>

<h2 id="anamepkt_dc_sys_uidauniqueidpacket"><a name="PKT_DC_SYS_UID"></a>UniqueId packet</h2>

<p>Unique identifier for DroneCAN device</p>

<ul>
<li>packet identifier: <code>PKT_DC_SYS_UID</code> : 61696</li>
<li>data length: 8</li>
</ul>

<table>
<caption id="uniqueidpacketbytes">UniqueId packet bytes</caption>
<colgroup>
<col/>
<col/>
<col style="text-align:center;"/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Bytes</th>
	<th>Name</th>
	<th style="text-align:center;"><a href="#Enc">Enc</a></th>
	<th style="text-align:center;">Repeat</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td>0&#8230;1</td>
	<td>1)vid</td>
	<td style="text-align:center;">U16</td>
	<td style="text-align:center;">1</td>
	<td>Vendor ID.</td>
</tr>
<tr>
	<td>2&#8230;3</td>
	<td>2)pid</td>
	<td style="text-align:center;">U16</td>
	<td style="text-align:center;">1</td>
	<td>Product ID.</td>
</tr>
<tr>
	<td>4&#8230;6</td>
	<td>3)seiral</td>
	<td style="text-align:center;">U24</td>
	<td style="text-align:center;">1</td>
	<td>Device serial number.</td>
</tr>
<tr>
	<td>7</td>
	<td>4)address</td>
	<td style="text-align:center;">U8</td>
	<td style="text-align:center;">1</td>
	<td>CAN node address.</td>
</tr>
</tbody>
</table>

<h2 id="anamepkt_dc_sys_fw_versionafirwareversionpacket"><a name="PKT_DC_SYS_FW_VERSION"></a>FirwareVersion packet</h2>

<p>Firmware version information</p>

<ul>
<li>packet identifier: <code>PKT_DC_SYS_FW_VERSION</code> : 61712</li>
<li>data length: 7</li>
</ul>

<table>
<caption id="firwareversionpacketbytes">FirwareVersion packet bytes</caption>
<colgroup>
<col/>
<col/>
<col style="text-align:center;"/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Bytes</th>
	<th>Name</th>
	<th style="text-align:center;"><a href="#Enc">Enc</a></th>
	<th style="text-align:center;">Repeat</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td>0</td>
	<td>1)versionMajor</td>
	<td style="text-align:center;">U8</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
<tr>
	<td>1</td>
	<td>2)versionMinor</td>
	<td style="text-align:center;">U8</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
<tr>
	<td>2</td>
	<td>3)versionSub</td>
	<td style="text-align:center;">U8</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
<tr>
	<td>3&#8230;6</td>
	<td>4)checksum</td>
	<td style="text-align:center;">U32</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
</tbody>
</table>

<h2 id="anamepkt_dc_sys_fw_dateafirmwaredatepacket"><a name="PKT_DC_SYS_FW_DATE"></a>FirmwareDate packet</h2>

<p>Firmware date information</p>

<ul>
<li>packet identifier: <code>PKT_DC_SYS_FW_DATE</code> : 61713</li>
<li>data length: 4</li>
</ul>

<table>
<caption id="firmwaredatepacketbytes">FirmwareDate packet bytes</caption>
<colgroup>
<col/>
<col/>
<col style="text-align:center;"/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Bytes</th>
	<th>Name</th>
	<th style="text-align:center;"><a href="#Enc">Enc</a></th>
	<th style="text-align:center;">Repeat</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td>0&#8230;1</td>
	<td>1)versionYear</td>
	<td style="text-align:center;">U16</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
<tr>
	<td>2</td>
	<td>2)versionMonth</td>
	<td style="text-align:center;">U8</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
<tr>
	<td>3</td>
	<td>3)versionDay</td>
	<td style="text-align:center;">U8</td>
	<td style="text-align:center;">1</td>
	<td></td>
</tr>
</tbody>
</table>

<h2 id="anamepkt_dc_sys_fw_settingsafirmwaresettingspacket"><a name="PKT_DC_SYS_FW_SETTINGS"></a>FirmwareSettings packet</h2>

<p>User-configurable settings information</p>

<ul>
<li>packet identifier: <code>PKT_DC_SYS_FW_SETTINGS</code> : 61714</li>
<li>data length: 4</li>
</ul>

<table>
<caption id="firmwaresettingspacketbytes">FirmwareSettings packet bytes</caption>
<colgroup>
<col/>
<col/>
<col style="text-align:center;"/>
<col style="text-align:center;"/>
<col/>
</colgroup>

<thead>
<tr>
	<th>Bytes</th>
	<th>Name</th>
	<th style="text-align:center;"><a href="#Enc">Enc</a></th>
	<th style="text-align:center;">Repeat</th>
	<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td>0&#8230;3</td>
	<td>1)settingsChecksum</td>
	<td style="text-align:center;">U32</td>
	<td style="text-align:center;">1</td>
	<td>Checksum of all user-configurable device settings.</td>
</tr>
</tbody>
</table>

<h2 id="anamepkt_dc_sys_hw_infoahardwareinfopacket"><a name="PKT_DC_SYS_HW_INFO"></a>HardwareInfo packet</h2>

<p>Hardware information</p>

<ul>
<li>packet identifier: <code>PKT_DC_SYS_HW_INFO</code> : 61717</li>
<li>data length: 0</li>
</ul>

<div class="page-break"></div>

<hr />

<h1 id="aboutthisicd">About this ICD</h1>

<p>This is the interface control document for data <em>on the wire</em>, not data in memory. This document was automatically generated by the <a href="https://github.com/billvaglienti/ProtoGen">ProtoGen software</a>, version 2.18.c. ProtoGen also generates C source code for doing most of the work of encoding data from memory to the wire, and vice versa.</p>

<h2 id="encodings">Encodings</h2>

<p>Data for this protocol are sent in BIG endian format. Any field larger than one byte is sent with the most signficant byte first, and the least significant byte last.</p>

<p>Data can be encoded as unsigned integers, signed integers (two&#8217;s complement), bitfields, and floating point.</p>

<table>
<colgroup>
<col style="text-align:center;"/>
<col/>
<col/>
</colgroup>

<thead>
<tr>
	<th style="text-align:center;"><a name="Enc"></a>Encoding</th>
	<th>Interpretation</th>
	<th>Notes</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:center;">UX</td>
	<td>Unsigned integer X bits long</td>
	<td>X must be: 8, 16, 24, 32, 40, 48, 56, or 64</td>
</tr>
<tr>
	<td style="text-align:center;">IX</td>
	<td>Signed integer X bits long</td>
	<td>X must be: 8, 16, 24, 32, 40, 48, 56, or 64</td>
</tr>
<tr>
	<td style="text-align:center;">BX</td>
	<td>Unsigned integer bitfield X bits long</td>
	<td>X must be greater than 0 and less than 32</td>
</tr>
<tr>
	<td style="text-align:center;">F16:X</td>
	<td>16 bit float with X significand bits</td>
	<td>1 sign bit : 15-X exponent bits : X significant bits with implied leading 1</td>
</tr>
<tr>
	<td style="text-align:center;">F24:X</td>
	<td>24 bit float with X significand bits</td>
	<td>1 sign bit : 23-X exponent bits : X significant bits with implied leading 1</td>
</tr>
<tr>
	<td style="text-align:center;">F32</td>
	<td>32 bit float (IEEE&#8211;754)</td>
	<td>1 sign bit : 8 exponent bits : 23 significant bits with implied leading 1</td>
</tr>
<tr>
	<td style="text-align:center;">F64</td>
	<td>64 bit float (IEEE&#8211;754)</td>
	<td>1 sign bit : 11 exponent bits : 52 significant bits with implied leading 1</td>
</tr>
</tbody>
</table>

<h2 id="sizeoffields">Size of fields</h2>

<p>The encoding tables give the bytes for each field as X&#8230;Y; where X is the first byte (counting from 0) and Y is the last byte. For example a 4 byte field at the beginning of a packet will give 0&#8230;3. If the field is 1 byte long then only the starting byte is given. Bitfields are more complex, they are displayed as Byte:Bit. A 3-bit bitfield at the beginning of a packet will give 0:7&#8230;0:5, indicating that the bitfield uses bits 7, 6, and 5 of byte 0. Note that the most signficant bit of a byte is 7, and the least signficant bit is 0. If the bitfield is 1 bit long then only the starting bit is given.</p>

<p>The byte count in the encoding tables are based on the maximum length of the field(s). If a field is variable length then the actual byte location of the data may be different depending on the value of the variable field. If the field is a variable length character string this will be indicated in the encoding column of the table. If the field is a variable length array this will be indicated in the repeat column of the encoding table. If the field depends on the non-zero value of another field this will be indicated in the description column of the table.</p>
